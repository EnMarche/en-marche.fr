{% extends 'procuration/_layout.html.twig' %}

{% block page_title 'Mon lieu de vote - Procuration' %}

{% block javascripts %}
    <script type="text/javascript">
        Kernel.onLoad(function() {
            App.createAddressSelector(
                '{{ form.voteCountry.vars.id }}',
                '{{ form.votePostalCode.vars.id }}',
                '{{ form.voteCity.vars.id }}',
                '{{ form.voteCityName.vars.id }}'
            );
        });
    </script>
{% endblock %}

{% block procuration_content %}
    <section class="procuration__content l__wrapper l__row l__row--top l__row--h-stretch-around l__mobile--col space--60-0">
        <div class="procuration__banner__form">
            <ul class="procuration__steps">
                <li class="active"><span>Mon lieu de vote</span></li>
                <li>Mes coordonnées</li>
                <li>Ma procuration</li>
            </ul>
            <form method="post">
                {{ form_errors(form) }}

                <div class="form__row">
                    {{ form_label(form.voteCountry, 'Le pays de mon lieu de vote') }}
                    {{ form_errors(form.voteCountry) }}
                    {{ form_widget(form.voteCountry, { 'attr': { 'class': 'form--full' } }) }}
                </div>

                <div class="form__row">
                    {{ form_label(form.votePostalCode, 'Le code postal de mon lieu de vote') }}
                    {{ form_errors(form.votePostalCode) }}
                    {{ form_widget(form.votePostalCode, { 'attr': { 'class': 'form--full', 'placeholder': 'Code postal' } }) }}
                </div>

                <div class="form__row">
                    {{ form_label(form.voteCity, 'La ville dans laquelle je vote') }}
                    {{ form_widget(form.voteCity) }}
                    {{ form_widget(form.voteCityName, { 'attr': { 'class': 'form--full', 'placeholder': 'Ville' } }) }}
                    {{ form_errors(form.voteCity) }}
                </div>

                <div class="form__row">
                    {{ form_label(form.voteOffice, 'Le nom de mon bureau de vote (optionnel)') }}
                    {{ form_errors(form.voteOffice) }}
                    {{ form_widget(form.voteOffice, { 'attr': { 'class': 'form--full', 'placeholder': 'Bureau de vote' } }) }}
                    <span class="text--small">
                        Le nom de votre bureau de vote sera utilisé par nos équipe afin de trouver
                        la personne la plus adaptée pour voter à votre place.
                    </span>
                </div>

                {{ form_rest(form) }}

                <div class="text--center b__nudge--top-large">
                    <button type="submit" class="btn btn--blue">
                        Je continue
                    </button>
                </div>
            </form>
        </div>
    </section>
{% endblock %}
