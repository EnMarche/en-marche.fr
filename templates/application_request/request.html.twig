{% extends 'application_request/_layout.html.twig' %}

{% block javascripts %}
    <script type="text/javascript" src={{ asset('bundles/sonataadmin/vendor/jquery/dist/jquery.min.js') }}></script>
    <script type="text/javascript" src={{ asset('select2/select2.min.js') }}></script>
    <script type="text/javascript" src={{ asset('select2/fr.js') }}></script>
    {% import 'javascript.js.twig' as js %}
    {% if google_maps_api_key %}
        <script src="https://maps.googleapis.com/maps/api/js?key={{ google_maps_api_key }}&amp;libraries=places" async defer></script>
    {% endif %}
    <script type="text/javascript">
        Kernel.onLoad(function() {
            App.runApplicationRequest(
                '{{ volunteer_form.vars.form_type_class|e('js') }}',
                '{{ running_mate_form.vars.form_type_class|e('js') }}'
            );
            {{ js.address(volunteer_form.address) }}
            {{ js.address(running_mate_form.address) }}
        });
    </script>
    <script src="https://www.google.com/recaptcha/api.js"></script>
{% endblock %}

{% block form_body %}

    <div id="volunteer-form">
        {% embed 'application_request/_form.html.twig' with { form: volunteer_form } %}

            {% block skills_block %}
                <div class="l__row l__row--top l__row--h-stretch l__mobile--col">
                    <div class="register__form--full">
                        {{ form_label(form.technicalSkills, 'Disposez-vous de compétences techniques spécifiques ?', { label_attr: { class: 'text--gray' } }) }}
                        {{ form_widget(form.technicalSkills) }}
                        {{ form_errors(form.technicalSkills) }}
                    </div>
                </div>
                <div class="l__row l__row--top l__row--h-stretch l__mobile--col">
                    <div class="register__form--full">
                        {{ form_label(form.customTechnicalSkills, 'Autre', { label_attr: { class: 'text--gray' } }) }}
                        <div>
                            {{ form_widget(form.customTechnicalSkills) }}
                            {{ form_errors(form.customTechnicalSkills) }}
                        </div>
                    </div>
                </div>

                <div class="l__row l__row--top l__row--h-stretch l__mobile--col">
                    <div class="register__form--full">
                        {{ form_label(form.isPreviousCampaignMember, 'Avez-vous déjà participé à une campagne ?', { label_attr: { class: 'text--gray' } }) }}
                        {{ form_widget(form.isPreviousCampaignMember) }}
                        {{ form_errors(form.isPreviousCampaignMember) }}
                    </div>
                </div>
                <div class="l__row l__row--top l__row--h-stretch l__mobile--col">
                    <div class="register__form--full">
                        {{ form_label(form.previousCampaignDetails, 'Si oui, détaillez', { label_attr: { class: 'text--gray' } }) }}
                        <div>
                            {{ form_widget(form.previousCampaignDetails, { attr: { placeholder: 'Détaillez...' } }) }}
                            {{ form_errors(form.previousCampaignDetails) }}
                        </div>
                    </div>
                </div>
            {% endblock %}

            {% block associative_commitment_block %}
                <div class="l__row l__row--top l__row--h-stretch l__mobile--col">
                    <div class="register__form--full">
                        {{ form_label(form.shareAssociativeCommitment, 'Souhaitez-vous nous faire part de vos engagements associatifs et/ou militants ?', { label_attr: { class: 'text--gray' } }) }}
                        {{ form_widget(form.shareAssociativeCommitment) }}
                        {{ form_errors(form.shareAssociativeCommitment) }}
                    </div>
                </div>
                <div class="l__row l__row--top l__row--h-stretch l__mobile--col">
                    <div class="register__form--full">
                        {{ form_label(form.associativeCommitmentDetails, 'Si oui, détaillez', { label_attr: { class: 'text--gray' } }) }}
                        <div>
                            {{ form_widget(form.associativeCommitmentDetails, { attr: { placeholder: 'Détaillez...' } }) }}
                            {{ form_errors(form.associativeCommitmentDetails) }}
                        </div>
                    </div>
                </div>
            {% endblock %}

            {% block chart_block %}
                <div class="l__row l__row--top l__row--h-stretch l__mobile--col">
                    <div class="register__form--full">
                        {% set LREMValuesLabel %}
                            Je certifie sur l'honneur adhérer à la <a href="{{ path('homepage') }}">Charte des Valeurs</a> de la République En Marche.
                        {% endset %}
                        {{ form_widget(form.agreeToLREMValues) }}
                        <label for="{{ form.agreeToLREMValues.vars.id }}">{{ LREMValuesLabel|raw }}</label>
                        {{ form_errors(form.agreeToLREMValues) }}
                    </div>
                </div>
            {% endblock %}

        {% endembed %}
    </div>


    <div id="running-mate-form">
        {% embed 'application_request/_form.html.twig' with { form: running_mate_form } %}

            {% block curriculum_block %}
                <div class="l__row l__row--top l__row--h-stretch l__mobile--col">
                    <div class="register__form--full">
                        {{ form_label(form.curriculum, 'Téléchargez votre CV', { label_attr: { class: 'text--gray' } }) }}
                        {{ form_widget(form.curriculum) }}
                        {{ form_errors(form.curriculum) }}
                    </div>
                </div>
            {% endblock %}

            {% block experience_block %}
                <div class="l__row l__row--top l__row--h-stretch l__mobile--col">
                    <div class="register__form--full">
                        {{ form_label(form.isLocalAssociationMember, 'Etes vous enagé dans une/des association(s) locales ?', { label_attr: { class: 'text--gray' } }) }}
                        {{ form_widget(form.isLocalAssociationMember) }}
                        {{ form_errors(form.isLocalAssociationMember) }}
                    </div>
                </div>
                <div class="l__row l__row--top l__row--h-stretch l__mobile--col">
                    <div class="register__form--full">
                        {{ form_label(form.localAssociationDomain, 'Si oui, quels domaines ?', { label_attr: { class: 'text--gray' } }) }}
                        <div>
                            {{ form_widget(form.localAssociationDomain, { attr: { placeholder: 'Détaillez...' } }) }}
                            {{ form_errors(form.localAssociationDomain) }}
                        </div>
                    </div>
                </div>

                <div class="l__row l__row--top l__row--h-stretch l__mobile--col">
                    <div class="register__form--full">
                        {{ form_label(form.isPoliticalActivist, 'Avez vous déjà eu un engagement militant ?', { label_attr: { class: 'text--gray' } }) }}
                        {{ form_widget(form.isPoliticalActivist) }}
                        {{ form_errors(form.isPoliticalActivist) }}
                    </div>
                </div>
                <div class="l__row l__row--top l__row--h-stretch l__mobile--col">
                    <div class="register__form--full">
                        {{ form_label(form.politicalActivistDetails, 'Si oui, quels domaines ?', { label_attr: { class: 'text--gray' } }) }}
                        <div>
                            {{ form_widget(form.politicalActivistDetails, { attr: { placeholder: 'Détaillez...' } }) }}
                            {{ form_errors(form.politicalActivistDetails) }}
                        </div>
                    </div>
                </div>

                <div class="l__row l__row--top l__row--h-stretch l__mobile--col">
                    <div class="register__form--full">
                        {{ form_label(form.isPreviousElectedOfficial, 'Avez vous déjà exercé un mandat ?', { label_attr: { class: 'text--gray' } }) }}
                        {{ form_widget(form.isPreviousElectedOfficial) }}
                        {{ form_errors(form.isPreviousElectedOfficial) }}
                    </div>
                </div>
                <div class="l__row l__row--top l__row--h-stretch l__mobile--col">
                    <div class="register__form--full">
                        {{ form_label(form.previousElectedOfficialDetails, 'Si oui, precisez ?', { label_attr: { class: 'text--gray' } }) }}
                        <div>
                            {{ form_widget(form.previousElectedOfficialDetails, { attr: { placeholder: 'Détaillez...' } }) }}
                            {{ form_errors(form.previousElectedOfficialDetails) }}
                        </div>
                    </div>
                </div>
            {% endblock %}

            {% block themes_block %}
                <div class="l__row l__row--top l__row--h-stretch l__mobile--col">
                    <div class="register__form--full">
                        {{ form_label(form.favoriteThemeDetails, 'Pourquoi avez vous choisi cette thématique ?', { label_attr: { class: 'text--gray' } }) }}
                        <div>
                            {{ form_widget(form.favoriteThemeDetails, { attr: { placeholder: 'Détaillez...' } }) }}
                            {{ form_errors(form.favoriteThemeDetails) }}
                        </div>
                    </div>
                </div>
            {% endblock %}

            {% block project_block %}
                <div class="l__row l__row--top l__row--h-stretch l__mobile--col">
                    <div class="register__form--full">
                        {{ form_label(form.projectDetails, 'Quel projet pour votre communce souhaiteriez vous contribuer à porter ?', { label_attr: { class: 'text--gray' } }) }}
                        <div>
                            {{ form_widget(form.projectDetails, { attr: { placeholder: 'Détaillez...' } }) }}
                            {{ form_errors(form.projectDetails) }}
                        </div>
                    </div>
                </div>

                <div class="l__row l__row--top l__row--h-stretch l__mobile--col">
                    <div class="register__form--full">
                        {{ form_label(form.professionalAssets, 'Quel sont les atouts de votre parcours professionnel ?', { label_attr: { class: 'text--gray' } }) }}
                        <div>
                            {{ form_widget(form.professionalAssets, { attr: { placeholder: 'Détaillez...' } }) }}
                            {{ form_errors(form.professionalAssets) }}
                        </div>
                    </div>
                </div>
            {% endblock %}

            {% block chart_block %}
                <div class="l__row l__row--top l__row--h-stretch l__mobile--col">
                    <div class="register__form--full">
                        {% set LREMValuesLabel %}
                            Je certifie sur l'honneur adhérer à la <a href="{{ path('homepage') }}">Charte des Valeurs</a> de la République En Marche
                            et m'engage à respecter les 10 points de la <a href="{{ path('homepage') }}">Charte de l'élu local</a> LaREM.
                        {% endset %}
                        {{ form_widget(form.agreeToLREMValues) }}
                        <label for="{{ form.agreeToLREMValues.vars.id }}">{{ LREMValuesLabel|raw }}</label>
                        {{ form_errors(form.agreeToLREMValues) }}
                    </div>
                </div>
            {% endblock %}

        {% endembed %}
    </div>
{% endblock %}
