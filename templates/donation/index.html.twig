{% extends 'donation/layout.html.twig' %}

{% block javascripts %}
    {% import 'javascript.js.twig' as js %}
    <script type="text/javascript" src={{ asset('bundles/sonataadmin/vendor/jquery/dist/jquery.min.js') }}></script>
    <script type="text/javascript">
        Kernel.onLoad(function() {
            App.runDonation();
        });
    </script>

    <script type="text/javascript">
        $(document).ready(function() {

          var goflip = '.js-flip';

          $(goflip).click(function() {
            $('.donation-box__flip').toggleClass('flipped');
            $('.donation-box__front, .donation-box__back').toggleClass('disable');
            return false;
          });

        });
    </script>

{% endblock %}

{% set boxHead = '<h1 class="text--large">Vous êtes une majorité<br /> à donner <span>50€</span></h1>' %}

{% block donation_content %}
    <div class="donation__landing">

        <!-- Need to dynamise this -->
        <section class="donation__header">
            <div class="l__wrapper">
                <div class="donation__header__content">
                    <a href="{{ path('homepage') }}" class="text--logo-white">EM!</a>
                    <div class="donation__header__steps">
                        <ul>
                            <li class="active">1. Montant du don</li>
                            <li class="next">2. Informations personnelles</li>
                            <li class="next">3. Paiement sécurisé</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <section class="donation-hero">
            <div class="donation-hero__overlay"></div>
            <div class="donation-hero__container l__wrapper">
                <div class="donation-hero__content">
                    <h1 class="text--larger">Nous avons <br />besoin de vous !</h1>
                    <p class="text--medium-small">Chaque don, quel que soit le montant, nous permet d’engager une action concrète pour réussir ensemble la transformation du paysage politique français.</p>
                    <div class="donation-reassurance dark">
                        <div class="donation-reassurance__item">
                            <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 0 26 26">
                              <path d="M18.7324102,11.6420579 C18.5541175,11.4564351 18.337765,11.3636934 18.0830181,11.3636934 L17.7776363,11.3636934 L17.7776363,9.4544948 C17.7776363,8.23481709 17.3576067,7.18756312 16.5172799,6.31255877 C15.6770201,5.43751959 14.6714105,5 13.4999497,5 C12.3285223,5 11.3227121,5.43751959 10.4825191,6.31252394 C9.64219233,7.18756312 9.22216273,8.23478226 9.22216273,9.4544948 L9.22216273,11.3636934 L8.91664713,11.3636934 C8.66210097,11.3636934 8.44561465,11.4564351 8.26735541,11.6420579 C8.08909617,11.8275414 8,12.0529704 8,12.3182752 L8,18.0454878 C8,18.3105488 8.08912962,18.5360474 8.26735541,18.7217051 C8.44561465,18.9071538 8.66210097,19 8.91664713,19 L18.0832522,19 C18.3379991,19 18.5543182,18.9072582 18.7326443,18.7217051 C18.9107363,18.5360474 19,18.3105488 19,18.0454878 L19,12.3181707 C19.0001335,12.0530749 18.9107363,11.8276807 18.7324102,11.6420579 Z M15.9443755,11.3636934 L11.0555239,11.3636934 L11.0555239,9.4544948 C11.0555239,8.75187936 11.2942842,8.1519311 11.7717046,7.65485898 C12.2491919,7.1577172 12.8252401,6.90919855 13.50005,6.90919855 C14.1749268,6.90919855 14.7508412,7.15768238 15.228362,7.65485898 C15.7056486,8.15189628 15.9443755,8.75187936 15.9443755,9.4544948 L15.9443755,11.3636934 Z"/>
                            </svg>
                            <span>Paiement sécurisé</span>
                        </div>
                        <div class="donation-reassurance__item">
                            <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 0 26 26">
                              <path fill-rule="evenodd" d="M15.9175223,6 L17.3892911,6.85673959 L9.8631458,20 L8.39137706,19.1432604 L9.28819756,17.577132 C7.41210851,16.7152734 5.8904293,15.2203164 5.00025146,13.3678126 C6.42549259,10.3995772 9.47207172,8.34912794 13.0002355,8.34912794 C13.5116923,8.34912794 14.0130288,8.39221724 14.5007744,8.4749445 L15.9175223,6 Z M17.6643593,9.6671122 C19.1025632,10.5541588 20.2665313,11.8391993 21.000699,13.3675336 C19.5742955,16.3352307 16.5280038,18.3852203 13.0002355,18.3852203 C12.8917613,18.3852203 12.7837424,18.3832821 12.6762118,18.3794385 L13.747953,16.509291 C15.0754574,16.1731316 16.0594101,14.9486471 16.0594101,13.4895655 C16.0594101,13.2746076 16.038054,13.0647415 15.9973896,12.8620575 L15.9503648,12.661845 L17.6643593,9.6671122 Z M13.0117235,10.3784544 C11.3285327,10.3784544 9.96403689,11.7713463 9.96403689,13.4895655 C9.96403689,14.1851818 10.1876795,14.8274765 10.5655707,15.3456115 L13.3957028,10.40291 C13.2699341,10.3867704 13.1417801,10.3784544 13.0117235,10.3784544 Z"/>
                            </svg>
                            <span>Données confidentielles</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <section class="donation-box__container">
            <div class="l__wrapper">
                <div class="donation-box">
                    <div class="donation-box__flip with-shadow">
                        <div class="donation-box__front">
                            <div class="donation-box__head text--center b__nudge--bottom-large">
                                {{ boxHead|raw }}
                            </div>

                            <!-- Form -->
                            <form method="get" action="{{ path('donation_index') }}" class="em-form">
                                <input name="montant"
                                       id="donation-amount"
                                       class="form form__field form--full"
                                       type="number" min="0.01" max="7500" step="0.01" value="{{ amount }}" />

                                <input name="abonnement" id="donation-abonnement" {% if abonnement is same as(true) %} checked{% endif %} />
                                <button class="btn-fat btn-fat--pink donation-button" type="submit">
                                    Je donne maintenant
                                </button>
                            </form>

                            <div class="donation-button-separator"></div>
                            <button class="btn-fat btn-fat--gray donation-button js-flip">Je donne par chèque</button>
                        </div>
                        <div class="donation-box__back disable">
                            <div class="donation-box__head text--center b__nudge--bottom-large">
                                {{ boxHead|raw }}
                            </div>
                            <p class="text--body text--dark b__nudge--top-50">Vous pouvez <a href="https://storage.googleapis.com/en-marche-fr/bulletin-de-don-EMa.pdf" class="text--blue--dark link--no--decor">télécharger un bulletin de don</a> et nous envoyer le chèque à :</p>
                            <div class="donation-box__sending-address text--body">
                                <strong>Pôle Financier, La République en Marche</strong><br />
                                63 rue Sainte-Anne,<br />
                                75002 Paris<br />
                            </div>
                            <a href="https://storage.googleapis.com/en-marche-fr/bulletin-de-don-EMa.pdf" class="btn-fat btn-fat--pink donation-button">Télécharger le bulletin de don</a>
                            <div class="donation-button-separator"></div>
                            <button class="btn-fat btn-fat--gray donation-button js-flip">Je donne par carte bancaire</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <div class="others-sections">
            <section class="section donation-distribution">
                <div class="l__wrapper">
                    <div class="donation-distribution__content">
                        <h2 class="text--large">Savez-vous comment est utilisé un don de 50€ ?</h2>
                        <ul class="donation-distribution__items-list">
                            <li class="donation-distribution__item">
                                <div class="donation-distribution__item--head">
                                    <span class="donation-distribution__item--amount">15€</span>
                                    <h3 class="donation-distribution__item--title">Gagner les combats électoraux</h3>
                                </div>
                                <p class="text--body">
                                    Nous formons les candidats et leurs équipes aux élections (législatives, européennes, municipales etc.), en leur développant notamment des outils numériques sur-mesure.
                                </p>
                            </li>

                            <li class="donation-distribution__item">
                                <div class="donation-distribution__item--head">
                                    <span class="donation-distribution__item--amount">10€</span>
                                    <h3 class="donation-distribution__item--title">Renforcer notre présence locale. </h3>
                                </div>
                                <p class="text--body">
                                    Nous installons des permanences sur nos territoires et soutenons nos adhérents par des formations, outils numériques, tracts, affiches, etc.
                                </p>
                            </li>

                            <li class="donation-distribution__item">
                                <div class="donation-distribution__item--head">
                                    <span class="donation-distribution__item--amount">10€</span>
                                    <h3 class="donation-distribution__item--title">Investir de nouveaux terrains.</h3>
                                </div>
                                <p class="text--body">
                                    Nous soutenons nos Projets Citoyens, Actions Ruralités, Actions Quartiers, 1000 talents et Toutes Politiques !
                                </p>
                            </li>

                            <li class="donation-distribution__item">
                                <div class="donation-distribution__item--head">
                                    <span class="donation-distribution__item--amount">10€</span>
                                    <h3 class="donation-distribution__item--title">Gagner la bataille des idées.</h3>
                                </div>
                                <p class="text--body">
                                    Nous développons l'Atelier des idées, des colloques de réflexions, le laboratoire des initiatives locales, la communication sur nos idées, etc.
                                </p>
                            </li>

                            <li class="donation-distribution__item">
                                <div class="donation-distribution__item--head">
                                    <span class="donation-distribution__item--amount">5€</span>
                                    <h3 class="donation-distribution__item--title">Sont utilisés pour garantir la conformité et la transparence de notre travail.</h3>
                                </div>
                            </li>

                        </ul>
                    </div>
                </div>
            </section>
    </div>

        <!-- <div class="donation__amount">
            <form method="get" action="{{ path('donation_index') }}" class="em-form">
                <h2>Je soutiens<br>La République En Marche !</h2>
                <span class="fluo">Vous êtes une majorité à donner 50€</span>

                <p class="montant">
                    Nous pouvons faire avancer les projets de <em>La République En Marche&nbsp;!</em> grâce à VOUS !<br><br>
                    Ensemble, nous avons lancé et soutenu des centaines de projets citoyens, développé des formations et lancé des initiatives comme «Actions Quartiers» et «Actions Ruralités».<br><br>
                    De nombreuses batailles électorales nous attendent, <br>notamment les municipales en 2020.<br><br>
                    Bien plus qu’un apport financier, votre don nous permet de développer des actions concrètes dans toute la France et de structurer notre Mouvement dans les territoires.<br> <br>

                    Nous avons besoin de VOUS !<br><br>
                    Merci pour votre soutien et continuons à transformer notre pays ensemble !
                </p>

                <input name="montant"
                       id="donation-amount"
                       class="form form__field form--full"
                       type="number" min="0.01" max="7500" step="0.01" value="{{ amount }}" />

                <input name="abonnement" id="donation-abonnement" {% if abonnement is same as(true) %} checked{% endif %} />

                <button class="btn btn--large-and-medium btn--primary" type="submit">
                    Continuer
                </button>
                <div class="b__nudge--top-10">
                    <p>OU je donne par chèque en <a href="https://storage.googleapis.com/en-marche-fr/bulletin-de-don-EMa.pdf">téléchargeant un bulletin de don</a></p>
                </div>
            </form>
        </div> -->
    </div>
{% endblock %}
